<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NoobHeaders</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <!-- Toast notification system -->
  <div id="toast-container" class="toast-container"></div>

  <!-- Confirmation modal -->
  <div id="confirm-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <h3 id="confirm-title" class="modal-title"></h3>
      <p id="confirm-message" class="modal-message"></p>
      <div class="modal-actions">
        <button id="confirm-cancel" class="btn-secondary" data-i18n="cancel">Cancel</button>
        <button id="confirm-ok" class="btn-danger" data-i18n="confirm">Confirm</button>
      </div>
    </div>
  </div>

  <!-- Prompt modal -->
  <div id="prompt-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <h3 id="prompt-title" class="modal-title"></h3>
      <p id="prompt-message" class="modal-message"></p>
      <input type="text" id="prompt-input" class="modal-input" />
      <div class="modal-actions">
        <button id="prompt-cancel" class="btn-secondary" data-i18n="cancel">Cancel</button>
        <button id="prompt-ok" class="btn-primary" data-i18n="ok">OK</button>
      </div>
    </div>
  </div>

  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="header-top">
        <h1 class="logo">
          <span class="logo-icon">ğŸ“</span>
          NoobHeaders
        </h1>
        <button id="options-btn" class="icon-btn" data-i18n-title="options">âš™ï¸</button>
      </div>
      <p class="subtitle" data-i18n="subtitle">Clean HTTP Header Modifier</p>
    </header>

    <!-- Global Toggle -->
    <section class="section">
      <label class="toggle-container global-toggle">
        <input type="checkbox" id="global-enabled" class="toggle-input">
        <span class="toggle-slider"></span>
        <span class="toggle-label" data-i18n="headerModificationEnabled">Header Modification Enabled</span>
      </label>
    </section>

    <!-- Profile Section -->
    <section class="section">
      <div class="section-header">
        <h2 data-i18n="activeProfile">Active Profile</h2>
        <div class="profile-actions">
          <button id="add-profile-btn" class="icon-btn" data-i18n-title="addProfile">â•</button>
          <button id="delete-profile-btn" class="icon-btn" data-i18n-title="deleteProfile">ğŸ—‘ï¸</button>
        </div>
      </div>

      <div class="profile-controls">
        <div id="profiles-radio" class="profiles-radio" role="list" aria-label="Profiles"></div>

        <div class="button-group">
          <button id="rename-profile-btn" class="btn-secondary" data-i18n="rename">Rename</button>
          <button id="duplicate-profile-btn" class="btn-secondary" data-i18n="duplicate">Duplicate</button>
        </div>
      </div>
    </section>

    <div class="section-divider">
      <hr class="divider-line" />
      <div id="active-profile-display" class="active-profile-name">
        <span data-i18n="profileActivePrefix">Active:</span>
        <strong id="active-profile-name"></strong>
      </div>
      <hr class="divider-line" />
    </div>

    <!-- Headers Section -->
    <section class="section">
      <div class="section-header">
        <h2 data-i18n="headers">Headers</h2>
        <button id="add-header-btn" class="btn-primary" data-i18n="addHeader">+ Add Header</button>
      </div>

      <div id="headers-list" class="headers-list">
        <!-- Headers will be inserted here -->
      </div>

      <div class="empty-state" id="empty-headers" style="display: none;">
        <p data-i18n="noHeadersConfigured">No headers configured</p>
        <p class="empty-hint" data-i18n="clickAddHeaderHint">Click "Add Header" to get started</p>
      </div>
    </section>

    <!-- Filters Section -->
    <section class="section">
      <div class="section-header">
        <h2 data-i18n="filters">Filters</h2>
        <button id="add-filter-btn" class="btn-primary" data-i18n="addFilter">+ Add Filter</button>
      </div>

      <div id="filters-list" class="filters-list">
        <!-- Filters will be inserted here -->
      </div>

      <div id="filter-editor" class="filter-editor"
        style="display:none; margin-top:12px; padding:12px; border-radius:6px; background:var(--background); border:1px solid var(--border);">
        <!-- Editor for selected filter -->
        <div style="display:flex; gap:8px; align-items:center; margin-bottom:8px;">
          <label data-i18n="filterEditorType" style="min-width:70px; font-weight:600;">Type</label>
          <select id="editor-filter-type" class="filter-type"></select>
        </div>
        <div style="display:flex; gap:8px; align-items:center; margin-bottom:12px;">
          <label data-i18n="filterEditorValue" style="min-width:70px; font-weight:600;">Value</label>
          <input id="editor-filter-value" type="text" data-i18n-placeholder="filterValuePlaceholder"
            style="flex:1; padding:6px 8px; border-radius:4px; border:1px solid var(--border);" />
        </div>
        <div style="display:flex; gap:8px;">
          <button id="editor-save-btn" class="btn-primary" data-i18n="editorSave">Save</button>
          <button id="editor-delete-btn" class="btn-danger" data-i18n="editorDelete">Delete</button>
          <button id="editor-cancel-btn" class="btn-secondary" data-i18n="editorCancel">Cancel</button>
        </div>
      </div>

      <div class="empty-state" id="empty-filters" style="display: none;">
        <p data-i18n="noFiltersConfigured">No filters configured</p>
        <p class="empty-hint" data-i18n="headersApplyAllRequests">Headers will apply to all requests</p>
      </div>
    </section>

    <!-- Debug Section -->
    <section class="section debug-section">
      <div class="section-header">
        <h2 data-i18n="debug">Debug</h2>
        <button id="toggle-debug-btn" class="icon-btn">ğŸ”½</button>
      </div>

      <div id="debug-content" class="debug-content" style="display: none;">
        <div class="debug-info">
          <div class="debug-row">
            <span class="debug-label">Active Rules:</span>
            <span id="debug-rules-count" class="debug-value">0</span>
          </div>
          <div class="debug-row">
            <span class="debug-label">Storage Used:</span>
            <span id="debug-storage-size" class="debug-value">0 KB</span>
          </div>
        </div>

        <button id="clear-all-btn" class="btn-danger" data-i18n="clearAllData">Clear All Data</button>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <p>
        Made with ğŸ’œ by
        <a href="https://github.com/BioSs54" target="_blank">BioSs54</a>
        â€¢
        <a href="https://github.com/BioSs54/noobheaders" target="_blank">GitHub</a>
        â€¢
        <span id="easter-egg-trigger" style="cursor: pointer;">v2.0.1</span>
      </p>
      <p class="footer-hint">No ads, no tracking, just headers ğŸ“</p>
    </footer>
  </div>

  <script type="module" src="i18n.js"></script>
  <script type="module" src="popup.js"></script>
</body>

</html>